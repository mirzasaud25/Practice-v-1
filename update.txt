package subjecttest;

import java.util.Scanner;

class BankAccount
{
    private String accountHolderName;
    private String accountNumber;
    private double  balance;
    
    public String getaccountHolderName()
    {
        return this.accountHolderName;
    }
    public String getaccountNumber()
    {
        return this.accountNumber;
        
    }
    public double getbalance()
    {
        return this.balance;
    }
    public void setaccountHolderName(String name)
    {
        this.accountHolderName=name;
    }
    
    BankAccount(String accountHolderName ,String accountNumber ,double balance)
    {
        this.accountHolderName=accountHolderName;
        this.accountNumber=accountNumber;
        this.balance=balance;
        
    }
    public boolean deposit(double amount)
    {
       
        if(amount<=0)
        {
            
            System.out.println("Inccorect Amount");
            return false;
            
        }   
        else
        {
            balance+=amount;
            return true;
        }
      
        
    }
    public boolean withdraw(double amount)
    {
        if(amount <=0)
        { 
           
            System.out.println("Incorrect Amount");
            return false;
        }
        else if(amount>balance)
        {
            System.err.println("Insufficient Balance");
            return false;
        }
        else
        {
            balance-=amount;
            return true;
        
        } 
         
    }
  
    public void displayDetails()
    {
        System.out.println("Account Holder :"+accountHolderName);
        System.out.println("Account Number : ****-****-"+accountNumber.substring(Math.max(0,accountNumber.length()-4)));
        System.out.println("Current Balance :"+balance);
        
    }
}
class Bank
{
    BankAccount accounts[]=new BankAccount[10];
    int accountCount;
    
    
    public void createAccount(String name ,String accNo,double amount)
    {
          BankAccount obj=new BankAccount(name ,accNo,amount);
          accounts[accountCount++]=obj;
          System.out.println("Your Account is Created ");
            
    }
        
    
     public boolean depositToAccount(String accNo ,double amount)
    {
         boolean found= false;
        for(int i=0;i<accountCount;i++)
        {
            if(accounts[i].getaccountNumber().equals(accNo))
            { 
                found = true;
                 
                boolean success= accounts[i].deposit(amount);
                if (success)
                    System.out.print("Balance :"+accounts[i].getbalance());
            
                else
                  System.out.print("Failure msg");  
                break;
                
            }
             
        }
        if(found  == false)
            System.out.println("this Account Does Not Exist");
        return false;
               
    }        
     
    public boolean withdrawFromAccount(String accNo,double amount)
    {
        boolean found = false;
        for(int i=0;i<accountCount;i++)
        {
            if(accounts[i].getaccountNumber().equals(accNo))
            {
                found = true;
                
                boolean success =accounts[i].withdraw(amount);
                if (success)
                {
                    System.out.println("Withdraw is successful");
                    System.out.println("New blanace is :"+accounts[i].getbalance());
                }
                else
                {
                    System.out.println("Withdraw Failed (Insuffient amount)");
                }
                
            }
              
       }
        if(found  == false)
            System.out.println("this Account Does Not Exist");
        return false;
     
            
   }
     public void  showAccountDetails(String accNo)
    {
        for (int i=0;i<accountCount;i++)
        {
            if(accounts[i].getaccountNumber().equals(accNo))
            {

                   accounts[i].displayDetails();
               
            }
        }
       
    }
    double checkBalance(String accNo)
    {
        for(int i=0;i<accountCount;i++)
       if(accounts[i].getaccountNumber().equals(accNo))
       {
         System.out.println("Current Balance :"+accounts[i].getbalance());
       }
        return 0;
          
    }
}



public class Subjecttest {

   
    public static void main(String[] args) 
    {
       
        
         Scanner sc=new Scanner(System.in); 
         
         Bank b=new Bank();
         System.out.println("1. Create Account");
         System.out.println("2. Deposit");
         System.out.println("3. Withdraw");
         System.out.println("4. Check Balance");
         System.out.println("5. Show Details");
         System.out.println("6. Exit");
         
         System.out.println("Enter Your Choice");
         int choice=sc.nextInt();
         
         
         
         switch(choice)
         {
         
             case 1 :{
                 System.out.print("Enter Name :> ");
                 String name=sc.next();
                 sc.nextLine();
                 System.out.print("Enter Account Number :> ");
                 String accNo=sc.next();
                 System.out.print("Opening Amount :> ");
                 double ammount= sc.nextDouble();
                 b.createAccount(name, accNo, ammount);
                 break;
                        
         
             }
                  
             case 2 :{System.out.println("Enter Account Number :>");
                     String accNo=sc.next();
                     System.out.println("Enter Deposit Amount :>");
                     double amount=sc.nextDouble();
                     b.depositToAccount(accNo, amount);
                     break;
             }
           
                     
             case 3 :{System.out.println("Enter Account Number :>");
                      String accNo = sc.next();
                      System.out.print("Enter Withdraw Amount :>");
                      double amount=sc.nextDouble();
                      b.withdrawFromAccount(accNo, amount);
                      break; 
             }
   
             case 4 :{System.out.println("Enter Account Number :>");
                      String accNo=sc.next();
                      System.out.println(b.checkBalance(accNo));
                      break;
             }
             case 5 : {System.out.println("Enter Account Number :>");
                      
                      String accNo=sc.next();
                       sc.nextLine();
                       b.showAccountDetails(accNo);
                      break;
                 
             }
             case 6 : {System.out.println("Thank You For Visiting..!");
                 
             }
             
                                 
                     
                     
                     
                       
             
         }
//          
    }
}